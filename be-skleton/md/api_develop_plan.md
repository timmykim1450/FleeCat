멀티테넌트 쇼핑몰 플랫폼 API 개발 계획서
📋 프로젝트 개요
프로젝트명: Fleecat 멀티테넌트 쇼핑몰 플랫폼
개발 유형: RESTful API 개발
대상: 초급 신입 데이터 분석가
작성일: 2025년 10월 1일
버전: 1.0
🎯 개발 접근 방식
1단계: 개념 및 기능 설명
API 기본 개념 이해
엔드포인트 구조 및 네이밍 규칙
HTTP 메서드 (GET, POST, PUT, DELETE) 이해
요청/응답 구조 설계
2단계: 확인 및 검토
설계한 API 명세서 검토
비즈니스 로직 흐름 확인
데이터베이스 스키마와의 매핑 확인
3단계: 코드 구현
확인 받은 설계를 바탕으로 실제 코드 작성
📊 API 개발 우선순위 및 단계
Phase 1: 기초 인프라 (필수)
목표: 회원 가입부터 로그인까지 기본 흐름 구축
1-1. 회원 관리 API
 회원가입 (개인/기업 구분)
 로그인/로그아웃
 회원 정보 조회/수정
 비밀번호 변경

1-2. 인증/인가 시스템
 JWT 토큰 발급
 토큰 검증 미들웨어
 권한 체크 미들웨어
 
Phase 2: 판매자 기능 (핵심)
목표: 판매자 등록부터 상품 등록까지
2-1. 판매사(Tenant) 관리 API
 판매사 등록 신청
 판매사 정보 조회/수정
 판매사 승인 관리 (관리자)
2-2. 판매사 구성원(Tenant Member) API
 구성원 가입 신청
 구성원 승인/거절 (공방주)
 구성원 목록 조회
 구성원 역할 관리
2-3. 카테고리 관리 API
 카테고리 생성 (관리자)
 카테고리 목록 조회 (계층형)
 카테고리 수정/삭제
2-4. 상품 관리 API
 상품 등록
 상품 목록 조회 (필터링/정렬)
 상품 상세 조회
 상품 수정/삭제
 상품 이미지 업로드
Phase 3: 구매자 기능 (핵심)
목표: 상품 조회부터 주문까지
3-1. 상품 조회 API (공개)
 전체 상품 목록 조회

 카테고리별 상품 조회
 상품 검색
 상품 상세 조회
3-2. 장바구니 API
 장바구니 추가
 장바구니 목록 조회
 장바구니 수량 변경
 장바구니 삭제
3-3. 배송지 관리 API
 배송지 추가
 배송지 목록 조회
 배송지 수정/삭제
 기본 배송지 설정
Phase 4: 주문 및 결제 (핵심)
목표: 주문 생성부터 결제까지
4-1. 쿠폰 API
 쿠폰 발급 (관리자)
 보유 쿠폰 조회
 사용 가능 쿠폰 조회
4-2. 주문 API
 주문 생성
 주문 목록 조회
 주문 상세 조회
 주문 취소
4-3. 결제 API
 결제 요청
 결제 승인
 결제 취소/환불
 결제 내역 조회

Phase 5: 관리자 기능 (부가)
목표: 플랫폼 운영 관리
5-1. 회원 관리 API (관리자)
 전체 회원 목록 조회
 회원 상태 변경 (정지/활성화)
 회원 권한 관리
5-2. 판매사 관리 API (관리자)
 판매사 승인/거절
 판매사 목록 조회
 판매사 정지/해제
5-3. 상품 관리 API (관리자)
 상품 승인/거절
 전체 상품 관리
 부적절 상품 삭제
5-4. 주문 관리 API (관리자)
 전체 주문 조회
 주문 상태 강제 변경
 환불/교환 승인
Phase 6: 부가 기능 (선택)
목표: 사용자 경험 향상
6-1. 거래 내역 API
 구매 내역 조회
 환불 내역 조회
 적립금 내역 조회
6-2. 권한 관리 API
 회원 권한 조회
 권한 변경 (관리자)

🏗 API 설계 원칙
1. RESTful 설계
2. 명명 규칙
복수형 사용: /products, /orders
케밥 케이스: /member-addresses, /tenant-members
계층 구조: /tenants/:id/members
3. 응답 구조
4. HTTP 상태 코드
200: 성공
201: 생성 성공
400: 잘못된 요청
401: 인증 실패
403: 권한 없음
404: 리소스 없음
500: 서버 오류
📁 API 문서 구조
각 API별 포함 내용
1. API 개요GET     /api/v1/products          # 목록 조회
GET     /api/v1/products/:id      # 상세 조회
POST    /api/v1/products          # 생성
PUT     /api/v1/products/:id      # 수정
DELETE  /api/v1/products/:id      # 삭제
json
{
"success":true,
"message":"성공 메시지",
"data":{},
"error":null
}

기능 설명
필요 권한
비즈니스 규칙
2. 엔드포인트 정의
HTTP 메서드
URL 경로
경로 파라미터
3. 요청 명세
헤더 (인증 토큰 등)
쿼리 파라미터 (필터링, 페이징)
바디 (JSON)
4. 응답 명세
성공 응답 예시
에러 응답 예시
5. 비즈니스 로직
처리 흐름도
검증 규칙
예외 처리
6. 데이터베이스 연동
사용 테이블
조회 조건
트랜잭션 처리
🔐 공통 인증/인가 구조
인증이 필요한 API
Authorization 헤더에 JWT 토큰 필요
Authorization: Bearer {token}
권한별 접근 제어
구매자 (buyer): 상품 조회, 장바구니, 주문
판매자 (seller): 구매자 권한 + 상품 관리, 주문 처리
관리자 (admin): 전체 권한

📈 개발 진행 방식
단계별 진행
1. Phase 1 완료 → 검토 → 승인 → Phase 2 시작
2. 각 Phase마다 기능 테스트 및 검증
3. 문제 발견 시 이전 단계로 돌아가 수정
문서 작성 순서
1. API 명세서 작성 (개념 설명 중심)
2. 비즈니스 로직 흐름도 작성
3. 요청/응답 예시 작성
4. 검증 규칙 정리
5. 확인 및 승인 대기
6. 승인 후 코드 구현
✅ 다음 단계
즉시 시작: Phase 1-1 (회원 관리 API)
작성할 문서:
1. 회원가입 API 명세서
2. 로그인 API 명세서
3. 회원 정보 조회 API 명세서
4. 회원 정보 수정 API 명세서
각 문서에 포함될 내용:
API 기본 개념 설명
엔드포인트 구조
요청/응답 형식
비즈니스 규칙
데이터 흐름도
📝 작성 정보
작성일: 2025년 10월 1일

버전: 1.0
상태: 계획 수립 완료
다음 작업: Phase 1-1 회원가입 API 명세서 작성
승인 후 Phase 1-1의 첫 번째 API인 "회원가입 API 명세서" 작성 시작

